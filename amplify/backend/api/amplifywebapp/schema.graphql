# This "input" configures a global authorization rule to enable public access to
# all models in this schema. Learn more about authorization rules here: https://docs.amplify.aws/cli/graphql/authorization-rules
input AMPLIFY { globalAuthRule: AuthRule = { allow: public } } # FOR TESTING ONLY!

type User @model {
  id: ID!
  username: String!
  email: String!
  fullName: String
  bio: String
  location: String
  skills: [String]
  createdAt: AWSDateTime
  updatedAt: AWSDateTime
}

type Mutation {
  processUserData(input: ProcessUserDataInput!): ProcessUserDataResponse
    @function(name: "amplifywebapp1e5b72d3")
}

type Query {
  getUserStats: UserStatsResponse
    @function(name: "amplifywebapp1e5b72d3")
}

input ProcessUserDataInput {
  userId: ID!
  action: String!
  data: AWSJSON
}

type ProcessUserDataResponse {
  success: Boolean!
  message: String
  data: AWSJSON
}

type UserStatsResponse {
  totalUsers: Int!
  activeUsers: Int!
  recentSignups: Int!
}
